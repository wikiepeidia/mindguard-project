{% extends "base.html" %}

{% block title %}T·ªë C√°o Scammer - MindGuard{% endblock %}

{% block content %}
<div class="container mt-5">
    <div class="row">
        <div class="col-lg-8">
            <div class="card shadow-sm">
                <div class="card-header bg-danger text-white">
                    <h4><i class="fas fa-exclamation-triangle"></i> T·ªë C√°o Scammer</h4>
                    <p class="mb-0"><small>üîí Danh t√≠nh c·ªßa b·∫°n ƒë∆∞·ª£c m√£ h√≥a v√† b·∫£o m·∫≠t ho√†n to√†n</small></p>
                </div>
                <div class="card-body">
                    <div class="alert alert-info">
                        <strong>üìã H∆∞·ªõng d·∫´n t·ªë c√°o:</strong>
                        <ul class="mb-0">
                            <li>Cung c·∫•p th√¥ng tin v·ªÅ scammer (SƒêT, t√†i kho·∫£n, v.v.)</li>
                            <li>M√¥ t·∫£ chi ti·∫øt h√†nh vi l·ª´a ƒë·∫£o</li>
                            <li>ƒê√≠nh k√®m √≠t nh·∫•t 1 b·∫±ng ch·ª©ng (·∫£nh, link, v.v.)</li>
                            <li>H·ªá th·ªëng s·∫Ω t·ª± ƒë·ªông x√©t duy·ªát</li>
                        </ul>
                    </div>

                    <form method="POST" action="{{ url_for('scammer.report_scammer') }}">
                        <div class="mb-3">
                            <label for="scammer_identifier" class="form-label"><strong>Th√¥ng tin Scammer *</strong></label>
                            <input type="text" class="form-control" id="scammer_identifier" name="scammer_identifier" 
                                   placeholder="S·ªë ƒëi·ªán tho·∫°i, t√†i kho·∫£n Facebook/Zalo, email..." required>
                            <small class="text-muted">Th√¥ng tin n√†y s·∫Ω ƒë∆∞·ª£c m√£ h√≥a ƒë·ªÉ b·∫£o m·∫≠t</small>
                        </div>

                        <div class="mb-3">
                            <label for="scammer_name" class="form-label"><strong>T√™n Scammer (n·∫øu bi·∫øt)</strong></label>
                            <input type="text" class="form-control" id="scammer_name" name="scammer_name" 
                                   placeholder="T√™n hi·ªÉn th·ªã, bi·ªát danh...">
                        </div>

                        <div class="mb-3">
                            <label for="scam_type" class="form-label"><strong>Lo·∫°i L·ª´a ƒê·∫£o *</strong></label>
                            <select class="form-select" id="scam_type" name="scam_type" required>
                                <option value="">-- Ch·ªçn lo·∫°i l·ª´a ƒë·∫£o --</option>
                                <option value="Gi·∫£ m·∫°o ng√¢n h√†ng">Gi·∫£ m·∫°o ng√¢n h√†ng</option>
                                <option value="ƒê·∫ßu t∆∞ l·ª£i nhu·∫≠n cao">ƒê·∫ßu t∆∞ l·ª£i nhu·∫≠n cao</option>
                                <option value="ƒê√°nh c·∫Øp t√†i kho·∫£n">ƒê√°nh c·∫Øp t√†i kho·∫£n (phishing)</option>
                                <option value="Tr√∫ng th∆∞·ªüng gi·∫£">Tr√∫ng th∆∞·ªüng gi·∫£</option>
                                <option value="Vi·ªác nh·∫π l∆∞∆°ng cao">Vi·ªác nh·∫π l∆∞∆°ng cao</option>
                                <option value="L·ª´a ƒë·∫£o quen bi·∫øt">L·ª´a ƒë·∫£o quen bi·∫øt</option>
                                <option value="Gi·∫£ m·∫°o c∆° quan">Gi·∫£ m·∫°o c∆° quan nh√† n∆∞·ªõc</option>
                                <option value="Kh√°c">Kh√°c</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label for="platform" class="form-label"><strong>K√™nh Li√™n L·∫°c</strong></label>
                            <select class="form-select" id="platform" name="platform">
                                <option value="">-- Ch·ªçn k√™nh --</option>
                                <option value="Facebook">Facebook</option>
                                <option value="Zalo">Zalo</option>
                                <option value="SMS">SMS</option>
                                <option value="Cu·ªôc g·ªçi">Cu·ªôc g·ªçi</option>
                                <option value="Telegram">Telegram</option>
                                <option value="Email">Email</option>
                                <option value="Website">Website</option>
                                <option value="Kh√°c">Kh√°c</option>
                            </select>
                        </div>

                        <div class="mb-3">
                            <label for="description" class="form-label"><strong>M√¥ T·∫£ Chi Ti·∫øt *</strong></label>
                            <textarea class="form-control" id="description" name="description" rows="5" 
                                      placeholder="M√¥ t·∫£ chi ti·∫øt h√†nh vi l·ª´a ƒë·∫£o, th·ªß ƒëo·∫°n, thi·ªát h·∫°i..." required></textarea>
                        </div>

                        <div class="mb-3">
                            <label class="form-label"><strong>B·∫±ng Ch·ª©ng (Link Google Drive, ·∫¢nh, Video...) *</strong></label>
                            <div class="alert alert-light border small">
                                <i class="fab fa-google-drive text-success"></i> <strong>Khuy√™n d√πng:</strong> H√£y t·∫£i b·∫±ng ch·ª©ng l√™n Google Drive v√† d√°n link chia s·∫ª v√†o ƒë√¢y ƒë·ªÉ ƒë·∫£m b·∫£o an to√†n v√† dung l∆∞·ª£ng.
                            </div>
                            
                            <div class="input-group mb-2">
                                <span class="input-group-text"><i class="fas fa-link"></i></span>
                                <input type="text" class="form-control" name="evidence_1" placeholder="Link b·∫±ng ch·ª©ng 1 (Google Drive, v.v.)" required>
                            </div>
                            <div class="input-group mb-2">
                                <span class="input-group-text">2Ô∏è‚É£</span>
                                <input type="text" class="form-control" name="evidence_2" placeholder="Link b·∫±ng ch·ª©ng 2 (t√πy ch·ªçn)">
                            </div>
                            <div class="input-group mb-2">
                                <span class="input-group-text">3Ô∏è‚É£</span>
                                <input type="text" class="form-control" name="evidence_3" placeholder="Link b·∫±ng ch·ª©ng 3 (t√πy ch·ªçn)">
                            </div>
                            <div class="input-group mb-2">
                                <span class="input-group-text">4Ô∏è‚É£</span>
                                <input type="text" class="form-control" name="evidence_4" placeholder="Link b·∫±ng ch·ª©ng 4 (t√πy ch·ªçn)">
                            </div>
                            <div class="input-group">
                                <span class="input-group-text">5Ô∏è‚É£</span>
                                <input type="text" class="form-control" name="evidence_5" placeholder="Link b·∫±ng ch·ª©ng 5 (t√πy ch·ªçn)">
                            </div>
                        </div>

                        <div class="mb-3 form-check">
                            <input type="checkbox" class="form-check-input" id="consent" name="consent" required>
                            <label class="form-check-label" for="consent">
                                T√¥i x√°c nh·∫≠n th√¥ng tin tr√™n l√† ch√≠nh x√°c v√† ƒë·ªìng √Ω chia s·∫ª v·ªõi c·ªông ƒë·ªìng MindGuard
                            </label>
                        </div>

                        <button type="submit" class="btn btn-danger btn-lg w-100">
                            <i class="fas fa-paper-plane"></i> G·ª≠i T·ªë C√°o
                        </button>
                    </form>
                </div>
            </div>

        </div>

        <div class="col-lg-4">
            <div class="card shadow-sm mb-4">
                <div class="card-header text-white" style="background: linear-gradient(135deg, #d97706, #f59e0b);">
                    <h5 class="mb-0"><i class="fas fa-shield-alt"></i> B·∫£o M·∫≠t</h5>
                </div>
                <div class="card-body">
                    <p><strong>üîí Cam k·∫øt b·∫£o m·∫≠t:</strong></p>
                    <ul>
                        <li>Danh t√≠nh ng∆∞·ªùi t·ªë c√°o ƒë∆∞·ª£c m√£ h√≥a</li>
                        <li>Kh√¥ng hi·ªÉn th·ªã th√¥ng tin c√° nh√¢n</li>
                        <li>Scammer kh√¥ng th·ªÉ bi·∫øt ai ƒë√£ t·ªë c√°o</li>
                        <li>Ch·ªâ admin c√≥ th·ªÉ xem d·ªØ li·ªáu g·ªëc</li>
                    </ul>
                </div>
            </div>

            <div class="card shadow-sm">
                <div class="card-header bg-success text-white">
                    <h5><i class="fas fa-list"></i> Scammer M·ªõi T·ªë C√°o</h5>
                </div>
                <div class="card-body" style="max-height: 400px; overflow-y: auto;">
                    {% if scammers %}
                        {% for scammer in scammers %}
                        <div class="alert alert-danger mb-2">
                            <strong>{{ scammer.scam_type }}</strong><br>
                            <small>{{ scammer.platform }} | {{ scammer.report_count }} t·ªë c√°o</small><br>
                            <small class="text-muted">{{ scammer.updated_at.strftime('%d/%m/%Y') }}</small>
                        </div>
                        {% endfor %}
                    {% else %}
                        <p class="text-muted">Ch∆∞a c√≥ t·ªë c√°o n√†o</p>
                    {% endif %}
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Support Chat Modal -->
<div class="modal fade" id="supportChatModal" tabindex="-1">
    <div class="modal-dialog modal-dialog-scrollable">
        <div class="modal-content">
            <div class="modal-header bg-info text-white">
                <h5 class="modal-title"><i class="fas fa-robot"></i> Tr·ª£ L√Ω T·ªë C√°o</h5>
                <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
            </div>
            <div class="modal-body" id="supportChatBody" style="height: 400px; overflow-y: auto;">
                <div class="alert alert-info">
                    üëã Xin ch√†o! T√¥i l√† tr·ª£ l√Ω ·∫£o c·ªßa MindGuard. B·∫°n c√≥ th·ªÉ h·ªèi t√¥i v·ªÅ:<br>
                    ‚Ä¢ C√°ch t·ªë c√°o scammer<br>
                    ‚Ä¢ B·∫±ng ch·ª©ng c·∫ßn thi·∫øt<br>
                    ‚Ä¢ Ch√≠nh s√°ch b·∫£o m·∫≠t<br>
                    ‚Ä¢ Quy tr√¨nh duy·ªát t·ªë c√°o
                </div>
            </div>
            <div class="modal-footer">
                <input type="text" class="form-control" id="supportChatInput" placeholder="Nh·∫≠p c√¢u h·ªèi...">
                <button class="btn btn-info" id="btnSendSupportChat">
                    <i class="fas fa-paper-plane"></i>
                </button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="{{ url_for('static', filename='js/report.js') }}"></script>
{% endblock %}
