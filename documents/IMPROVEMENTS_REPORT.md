# ğŸš€ Cáº£i Tiáº¿n Há»‡ Thá»‘ng BÃ¡o CÃ¡o Lá»«a Äáº£o

## âœ¨ TÃ­nh NÄƒng Má»›i (P0 - Æ¯u TiÃªn Cao)

### 1. **Trust Cues & TrÃ¡nh Rá»§i Ro PhÃ¡p LÃ½**

#### ğŸ” Tráº¡ng ThÃ¡i XÃ¡c Minh
Má»—i bÃ¡o cÃ¡o giá» Ä‘Ã¢y cÃ³ 3 tráº¡ng thÃ¡i:
- â“ **ChÆ°a xÃ¡c minh** (unverified) - Máº·c Ä‘á»‹nh khi táº¡o má»›i
- â³ **Äang xÃ¡c minh** (pending) - Äang Ä‘Æ°á»£c kiá»ƒm tra
- âœ… **ÄÃ£ xÃ¡c minh** (verified) - ÄÃ£ Ä‘Æ°á»£c xÃ¡c nháº­n

#### ğŸ­ áº¨n/Mask ThÃ´ng Tin Nháº¡y Cáº£m
- SÄT: `0912345678` â†’ `091***5678`
- STK: `123456789012` â†’ `1234***9012`
- NgÆ°á»i dÃ¹ng pháº£i báº¥m "Xem Ä‘áº§y Ä‘á»§" Ä‘á»ƒ hiá»ƒn thá»‹

#### âš–ï¸ Disclaimer RÃµ RÃ ng
Hiá»ƒn thá»‹ ngay dÆ°á»›i Ã´ tÃ¬m kiáº¿m:
> "Dá»¯ liá»‡u do cá»™ng Ä‘á»“ng cung cáº¥p, káº¿t quáº£ mang tÃ­nh cáº£nh bÃ¡o â€” vui lÃ²ng kiá»ƒm chá»©ng trÆ°á»›c khi giao dá»‹ch."

### 2. **Tá»‘i Æ¯u Ã” Tra Cá»©u**

#### ğŸ·ï¸ Chips Gá»£i Ã
- Hiá»ƒn thá»‹ trá»±c quan: `SÄT | STK | URL`
- Auto-detect váº«n hoáº¡t Ä‘á»™ng nhÆ°ng rÃµ rÃ ng hÆ¡n

#### ğŸ“ Placeholder VÃ­ Dá»¥
```
VD: 090xxxxxxx â€¢ 123456789012 â€¢ https://...
```

### 3. **Báº£ng LIVE NÃ¢ng Cáº¥p**

#### ğŸ” Lá»c Nhanh
- **Táº¥t cáº£** - Hiá»ƒn thá»‹ má»i bÃ¡o cÃ¡o
- **Nguy hiá»ƒm** - Chá»‰ cÃ¡c bÃ¡o cÃ¡o cÃ³ risk score â‰¥ 60
- **ÄÃ£ xÃ¡c minh** - Chá»‰ bÃ¡o cÃ¡o Ä‘Ã£ Ä‘Æ°á»£c xÃ¡c thá»±c

#### ğŸ“Š Hiá»ƒn Thá»‹ Äáº§y Äá»§
- Sá»‘ bÃ¡o cÃ¡o
- Sá»‘ ngÆ°á»i xÃ¡c nháº­n (confirmed_by_count)
- Tráº¡ng thÃ¡i xÃ¡c minh (badge mÃ u)
- Icon theo loáº¡i (Phone/Bank/Web)

### 4. **Trang Entity Profile** â­

#### ğŸ“„ Chi Tiáº¿t Äáº§y Äá»§
- **Risk Score** (0-100) vá»›i thanh progress vÃ  mÃ u sáº¯c:
  - ğŸ”´ 80-100: Cá»°C Ká»² NGUY HIá»‚M
  - ğŸŸ¡ 60-79: Rá»¦I RO CAO
  - ğŸ”µ 40-59: Cáº¨N THáº¬N
  - âšª 0-39: Rá»¦I RO THáº¤P

- **Timeline** hiá»ƒn thá»‹:
  - BÃ¡o cÃ¡o Ä‘áº§u tiÃªn
  - Nhiá»u bÃ¡o cÃ¡o (náº¿u cÃ³)
  - Cáº­p nháº­t cuá»‘i

- **Báº±ng chá»©ng Ä‘áº§y Ä‘á»§**
- **ThÃ´ng tin phÃ¢n loáº¡i** (loáº¡i lá»«a Ä‘áº£o, ná»n táº£ng, ngÃ¢n hÃ ng)

#### ğŸ¬ Actions
- XÃ¡c nháº­n bÃ¡o cÃ¡o
- Chia sáº» cáº£nh bÃ¡o
- ThÃªm bÃ¡o cÃ¡o má»›i

### 5. **Section "CÃ¡ch Hoáº¡t Äá»™ng"**

3 bÆ°á»›c Ä‘Æ¡n giáº£n:
1. ğŸ“ **Nháº­p thÃ´ng tin** - SÄT/STK/URL
2. ğŸ” **PhÃ¢n tÃ­ch rá»§i ro** - AI quÃ©t database
3. ğŸ›¡ï¸ **Gá»£i Ã½ hÃ nh Ä‘á»™ng** - Cáº£nh bÃ¡o + hÆ°á»›ng dáº«n

### 6. **Form Report Cáº£i Tiáº¿n**

#### ğŸ“‹ Danh Má»¥c RÃµ RÃ ng
Thay vÃ¬ nháº­p tá»± do, giá» cÃ³ dropdown vá»›i cÃ¡c loáº¡i:
- **Lá»«a Ä‘áº£o tÃ i chÃ­nh**
  - Giáº£ danh ngÃ¢n hÃ ng
  - Cho vay online
  - Äáº§u tÆ° chá»©ng khoÃ¡n áº£o
  - Tiá»n áº£o/Crypto

- **Lá»«a Ä‘áº£o viá»‡c lÃ m**
  - Tuyá»ƒn cá»™ng tÃ¡c viÃªn
  - LÃ m viá»‡c táº¡i nhÃ 
  - Kiáº¿m tiá»n qua app

- **Giáº£ danh**
  - CÃ´ng an
  - NhÃ¢n viÃªn giao hÃ ng
  - NgÃ¢n hÃ ng/tá»• chá»©c
  - NgÆ°á»i thÃ¢n

- **Mua bÃ¡n**
  - HÃ ng giáº£
  - Nháº­n tiá»n khÃ´ng giao hÃ ng
  - Mua hÃ ng chiáº¿m Ä‘oáº¡t

- **KhÃ¡c**
  - TrÃºng thÆ°á»Ÿng giáº£
  - Háº¹n hÃ² lá»«a tÃ¬nh

#### ğŸ›¡ï¸ Disclaimer Báº£o Vá»‡
Hiá»ƒn thá»‹ rÃµ:
- Danh tÃ­nh Ä‘Æ°á»£c mÃ£ hÃ³a hoÃ n toÃ n
- ThÃ´ng tin cÃ¡ nhÃ¢n khÃ´ng Ä‘Æ°á»£c chia sáº»
- Cam káº¿t cung cáº¥p thÃ´ng tin chÃ­nh xÃ¡c

## ğŸ—ƒï¸ Database Schema

### CÃ¡c trÆ°á»ng má»›i trong `ScammerReport`:
```python
verification_status = db.Column(db.String(20), default='unverified')
risk_score = db.Column(db.Integer, default=0)  # 0-100
confirmed_by_count = db.Column(db.Integer, default=0)
```

## ğŸ› ï¸ Utility Functions

### `utils/helpers.py`:
- `mask_sensitive_data(data, data_type)` - áº¨n thÃ´ng tin nháº¡y cáº£m
- `calculate_risk_score(...)` - TÃ­nh Ä‘iá»ƒm rá»§i ro
- `get_verification_badge(status)` - Badge xÃ¡c minh
- `get_risk_level_info(score)` - ThÃ´ng tin level rá»§i ro

## ğŸ“¦ CÃ i Äáº·t

### 1. Cháº¡y Migration
```bash
python database/migrate_add_verification.py
```

### 2. Khá»Ÿi Ä‘á»™ng láº¡i server
```bash
python app.py
```

## ğŸ¯ Routes Má»›i

- `/scammer/<int:scammer_id>` - Trang entity profile chi tiáº¿t

## ğŸ¨ UI/UX Improvements

### Chips & Badges
- Filter buttons vá»›i active state
- Verification badges (mÃ u xanh/vÃ ng/xÃ¡m)
- Risk level badges (mÃ u Ä‘á»/vÃ ng/xanh/xÃ¡m)
- Confirmed count badge (mÃ u xanh)

### Timeline
- Visual timeline vá»›i markers mÃ u
- Hiá»ƒn thá»‹ lá»‹ch sá»­ hoáº¡t Ä‘á»™ng

### Modal & Masking
- Mask máº·c Ä‘á»‹nh cho báº£o máº­t
- Toggle Ä‘á»ƒ xem Ä‘áº§y Ä‘á»§
- Image modal cho báº±ng chá»©ng

## ğŸ“ˆ TÃ­nh NÄƒng Sáº¯p Tá»›i (P1)

- [ ] Subscribe & theo dÃµi cáº£nh bÃ¡o (email/Zalo/Telegram)
- [ ] Share link cáº£nh bÃ¡o tÃ¹y chá»‰nh
- [ ] Test IQ cÃ¡ nhÃ¢n hÃ³a
- [ ] ThÆ° viá»‡n tÃ¬nh huá»‘ng lá»«a Ä‘áº£o

## ğŸ¤– ML Stage 1 (Tiáº¿p Theo)

- [ ] Auto-tag loáº¡i lá»«a Ä‘áº£o tá»« description
- [ ] Entity extraction (tá»± tÃ¡ch SÄT/STK/URL)
- [ ] Deduplication & similarity detection

## ğŸ“ Notes

- Risk score tá»± Ä‘á»™ng tÃ­nh khi xem profile náº¿u chÆ°a cÃ³
- Masked identifier hiá»ƒn thá»‹ máº·c Ä‘á»‹nh, cáº§n click Ä‘á»ƒ xem
- Filter hoáº¡t Ä‘á»™ng client-side, nhanh vÃ  mÆ°á»£t
- Timeline Ä‘á»™ng theo sá»‘ lÆ°á»£ng bÃ¡o cÃ¡o

## ğŸ› Known Issues

- Migration script cáº§n cháº¡y 1 láº§n duy nháº¥t
- Cáº§n cÃ³ Ã­t nháº¥t 1 scammer trong DB Ä‘á»ƒ test profile page

## ğŸ“ Support

Náº¿u gáº·p váº¥n Ä‘á», check:
1. Database Ä‘Ã£ migrate chÆ°a?
2. Import helpers cÃ³ Ä‘Ãºng khÃ´ng?
3. Template scammer_profile.html Ä‘Ã£ táº¡o chÆ°a?
4. Route Ä‘Ã£ register trong app.py chÆ°a?
